<%inherit file="../common/main_base.html"/>

<%!
from django.utils.translation import ugettext as _
%>

<%block name="containor">

<div class="dim-layer">
    <div class="dimBg"></div>



    <div id="layer2" class="pop-layer">
        <div class="pop-container">
            <div class="pop-conts">

          <span class="nav-icon" style="padding-bottom: 18px;">
            <i class="fa fa-plug"></i>
          </span>
          <div style="margin-bottom: 10px;">
            <strong>Conference management</strong><a href="#" class="btn-layerClose" style="float: right; font-size:18px;">X</a>
          </div>
            <hr width="100%" color="#d9d9d9">
          <div style="text-align: center;">
              <table style="display: inline-block; width:100%;">
   
                        <tr>
                          <td>Conference name</td>
                          <td class="rightTd"><input type="text" class="form-control wi280" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>uri</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>secondaryUri</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>callId</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>cdrTag</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>passcode</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>Confirm password</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>defaultLayout</td>
                          <td class="rightTd">
                            <select id="inputState" class="custom-select w-100">
                              <option selected="">Choose...</option>
                              <option>...</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>ownerJid</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>template</td>
                          <td class="rightTd">
                            <select id="inputState" class="custom-select w-100">
                              <option selected="">Choose...</option>
                              <option>...</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>streamUrl</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>ownerAdGuid</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>MeetingScheduler</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>

                    </table>

                <button class="md-btn md-raised mb-2 w-xs purple mgt-20" id="confSave">SAVE</button>

            </div>
            </div>
        </div>
    </div>

</div>






<!-- NEW LAYER POPUP -->
<div class="dim-layer2">
    <div class="dimBg2"></div>



    <div id="layer_new" class="pop-layer2">
        <div class="pop-container2">
            <div class="pop-conts">

          <span class="nav-icon" style="padding-bottom: 18px;">
            <i class="fa fa-book"></i>
          </span>
          <div style="margin-bottom: 10px;">
            
            <strong>Start Conference</strong><a href="#" class="btn-layerClose" style="float: right; font-size:18px;">X</a>
            <hr width="100%" color="#d9d9d9">
          </div>
          <div style="float:right;">
             <button class="md-btn md-raised mb-2 w-xs purple" id="confSave">START</button>
          </div>
          <div style="text-align: center;">
              <table style="display: inline-block; width:100%; margin-bottom: 20px; ">
       
                        <tr>
                          <td>Start conference</td>
                          <td class="rightTd"><input type="text" class="form-control wi730" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>Conference name</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>callID</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>uri</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>Add user</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>Band Width</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        <tr>
                          <td>user password</td>
                          <td class="rightTd"><input type="text" class="form-control" placeholder=""></td>
                        </tr>
                        

                    </table>
            </div>





                        <div style="width:48%; float:left; margin-right: 15px;  padding-bottom: 20px;">

                              <span class="nav-icon"  style="padding-bottom: 18px;">
                                <i class="fa fa-address-book-o"></i>
                              </span>
                              <div>
                                <strong>User</strong>
                              </div>

                            <table class="tg" width="100%">
                                  <colgroup>
                                   <col width="30%">
                                   <col width="30%">
                                   <col width="30%">
                                   <col width="10%">
                                 </colgroup>
                                  <tr>
                                     <th>User Jld</th>
                                     <th>Name</th>
                                     <th>Email</th>
                                     <th>Delete</th>
                                  </tr>
                                  <tr>
                                     <td>User Jld</td>
                                     <td>Name</td>
                                     <td>Email</td>
                                     <td>Delete</td>
                                  </tr>
                                  <tr>
                                     <td>User Jld</td>
                                     <td>Name</td>
                                     <td>Email</td>
                                     <td>Delete</td>
                                  </tr>                                  
                            </table>

                        </div>

                        <div style="width:50%; float:left; padding-bottom: 20px;">


                              <span class="nav-icon"  style="padding-bottom: 18px;">
                                <i class="fa fa-bolt"></i>
                              </span>
                              <div>
                                <strong>End Point</strong>
                              </div>


                            <table class="tg" width="100%">
                                  <colgroup>
                                   <col width="15%">
                                   <col width="20%">
                                   <col width="20%">
                                   <col width="25%">
                                   <col width="20%">
                                 </colgroup>
                                  <tr>
                                     <th>1</th>
                                     <th>2</th>
                                     <th>3</th>
                                     <th>4</th>
                                     <th>5</th>
                                  </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                                   <tr>
                                     <td>1</td>
                                     <td>2</td>
                                     <td>3</td>
                                     <td>4</td>
                                     <td>5</td>
                                   </tr>
                            </table>
                        </div>






            </div>
        </div>
    </div>

</div>

<!-- NEW LAYER POPUP 끝 -->














<div class="padding">

  <div class="box">
    <div class="box-header">
      <h2>TEMPLATE</h2>
      <small>what is TEMPLATE</small>
    </div>
  </div>

      <div style="padding: 10px; margin-bottom:40px;">

        <div style="float: left; margin-right: 10px; padding-top:6px;">Search</div>
        <input type="text" class="form-control" id="search_str" placeholder="Search" required="" style="width:20%; float: left; margin-right:10px;">
        <button id="search_btn" class="md-btn md-raised mb-2 w-xs white" style="float: left">Search</button>

        <button class="md-btn md-raised mb-2 w-xs cyan" id="delBtn" style="float: right;">DEL</button>

        <a href="#layer2" class="btn-example">
          <button class="md-btn md-raised mb-2 w-xs purple dialog__trigger" id="addBtn" style="float: right; margin-right: 8px;">ADD</button>
        </a>



        <a href="#layer_new" class="btn-example">
          <button class="md-btn md-raised mb-2 w-xs dialog__trigger" id="addBtn" style="float: right; margin-right: 8px;">NEWLAYER</button>
        </a>
      </div>



  <div class="box">


    <table id="example" class="table table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Tiger Nixon</td>
                    <td>System Architect</td>
                    <td>Edinburgh</td>
                    <td>61</td>
                    <td>2011/04/25</td>
                    <td>$320,800</td>
                </tr>
                <tr>
                    <td>Garrett Winters</td>
                    <td>Accountant</td>
                    <td>Tokyo</td>
                    <td>63</td>
                    <td>2011/07/25</td>
                    <td>$170,750</td>
                </tr>
                <tr>
                    <td>Ashton Cox</td>
                    <td>Junior Technical Author</td>
                    <td>San Francisco</td>
                    <td>66</td>
                    <td>2009/01/12</td>
                    <td>$86,000</td>
                </tr>
                <tr>
                    <td>Cedric Kelly</td>
                    <td>Senior Javascript Developer</td>
                    <td>Edinburgh</td>
                    <td>22</td>
                    <td>2012/03/29</td>
                    <td>$433,060</td>
                </tr>
                <tr>
                    <td>Airi Satou</td>
                    <td>Accountant</td>
                    <td>Tokyo</td>
                    <td>33</td>
                    <td>2008/11/28</td>
                    <td>$162,700</td>
                </tr>
                <tr>
                    <td>Brielle Williamson</td>
                    <td>Integration Specialist</td>
                    <td>New York</td>
                    <td>61</td>
                    <td>2012/12/02</td>
                    <td>$372,000</td>
                </tr>
                <tr>
                    <td>Herrod Chandler</td>
                    <td>Sales Assistant</td>
                    <td>San Francisco</td>
                    <td>59</td>
                    <td>2012/08/06</td>
                    <td>$137,500</td>
                </tr>
                <tr>
                    <td>Rhona Davidson</td>
                    <td>Integration Specialist</td>
                    <td>Tokyo</td>
                    <td>55</td>
                    <td>2010/10/14</td>
                    <td>$327,900</td>
                </tr>
                <tr>
                    <td>Colleen Hurst</td>
                    <td>Javascript Developer</td>
                    <td>San Francisco</td>
                    <td>39</td>
                    <td>2009/09/15</td>
                    <td>$205,500</td>
                </tr>
                <tr>
                    <td>Sonya Frost</td>
                    <td>Software Engineer</td>
                    <td>Edinburgh</td>
                    <td>23</td>
                    <td>2008/12/13</td>
                    <td>$103,600</td>
                </tr>
                <tr>
                    <td>Jena Gaines</td>
                    <td>Office Manager</td>
                    <td>London</td>
                    <td>30</td>
                    <td>2008/12/19</td>
                    <td>$90,560</td>
                </tr>
                <tr>
                    <td>Quinn Flynn</td>
                    <td>Support Lead</td>
                    <td>Edinburgh</td>
                    <td>22</td>
                    <td>2013/03/03</td>
                    <td>$342,000</td>
                </tr>
                <tr>
                    <td>Charde Marshall</td>
                    <td>Regional Director</td>
                    <td>San Francisco</td>
                    <td>36</td>
                    <td>2008/10/16</td>
                    <td>$470,600</td>
                </tr>
                <tr>
                    <td>Haley Kennedy</td>
                    <td>Senior Marketing Designer</td>
                    <td>London</td>
                    <td>43</td>
                    <td>2012/12/18</td>
                    <td>$313,500</td>
                </tr>
                <tr>
                    <td>Tatyana Fitzpatrick</td>
                    <td>Regional Director</td>
                    <td>London</td>
                    <td>19</td>
                    <td>2010/03/17</td>
                    <td>$385,750</td>
                </tr>
                <tr>
                    <td>Michael Silva</td>
                    <td>Marketing Designer</td>
                    <td>London</td>
                    <td>66</td>
                    <td>2012/11/27</td>
                    <td>$198,500</td>
                </tr>
                <tr>
                    <td>Paul Byrd</td>
                    <td>Chief Financial Officer (CFO)</td>
                    <td>New York</td>
                    <td>64</td>
                    <td>2010/06/09</td>
                    <td>$725,000</td>
                </tr>
                <tr>
                    <td>Gloria Little</td>
                    <td>Systems Administrator</td>
                    <td>New York</td>
                    <td>59</td>
                    <td>2009/04/10</td>
                    <td>$237,500</td>
                </tr>
                <tr>
                    <td>Bradley Greer</td>
                    <td>Software Engineer</td>
                    <td>London</td>
                    <td>41</td>
                    <td>2012/10/13</td>
                    <td>$132,000</td>
                </tr>
                <tr>
                    <td>Dai Rios</td>
                    <td>Personnel Lead</td>
                    <td>Edinburgh</td>
                    <td>35</td>
                    <td>2012/09/26</td>
                    <td>$217,500</td>
                </tr>
                <tr>
                    <td>Jenette Caldwell</td>
                    <td>Development Lead</td>
                    <td>New York</td>
                    <td>30</td>
                    <td>2011/09/03</td>
                    <td>$345,000</td>
                </tr>
                <tr>
                    <td>Yuri Berry</td>
                    <td>Chief Marketing Officer (CMO)</td>
                    <td>New York</td>
                    <td>40</td>
                    <td>2009/06/25</td>
                    <td>$675,000</td>
                </tr>
                <tr>
                    <td>Caesar Vance</td>
                    <td>Pre-Sales Support</td>
                    <td>New York</td>
                    <td>21</td>
                    <td>2011/12/12</td>
                    <td>$106,450</td>
                </tr>
                <tr>
                    <td>Doris Wilder</td>
                    <td>Sales Assistant</td>
                    <td>Sidney</td>
                    <td>23</td>
                    <td>2010/09/20</td>
                    <td>$85,600</td>
                </tr>
                <tr>
                    <td>Angelica Ramos</td>
                    <td>Chief Executive Officer (CEO)</td>
                    <td>London</td>
                    <td>47</td>
                    <td>2009/10/09</td>
                    <td>$1,200,000</td>
                </tr>
                <tr>
                    <td>Gavin Joyce</td>
                    <td>Developer</td>
                    <td>Edinburgh</td>
                    <td>42</td>
                    <td>2010/12/22</td>
                    <td>$92,575</td>
                </tr>
                <tr>
                    <td>Jennifer Chang</td>
                    <td>Regional Director</td>
                    <td>Singapore</td>
                    <td>28</td>
                    <td>2010/11/14</td>
                    <td>$357,650</td>
                </tr>
                <tr>
                    <td>Brenden Wagner</td>
                    <td>Software Engineer</td>
                    <td>San Francisco</td>
                    <td>28</td>
                    <td>2011/06/07</td>
                    <td>$206,850</td>
                </tr>
                <tr>
                    <td>Fiona Green</td>
                    <td>Chief Operating Officer (COO)</td>
                    <td>San Francisco</td>
                    <td>48</td>
                    <td>2010/03/11</td>
                    <td>$850,000</td>
                </tr>
                <tr>
                    <td>Shou Itou</td>
                    <td>Regional Marketing</td>
                    <td>Tokyo</td>
                    <td>20</td>
                    <td>2011/08/14</td>
                    <td>$163,000</td>
                </tr>
                <tr>
                    <td>Michelle House</td>
                    <td>Integration Specialist</td>
                    <td>Sidney</td>
                    <td>37</td>
                    <td>2011/06/02</td>
                    <td>$95,400</td>
                </tr>
                <tr>
                    <td>Suki Burks</td>
                    <td>Developer</td>
                    <td>London</td>
                    <td>53</td>
                    <td>2009/10/22</td>
                    <td>$114,500</td>
                </tr>
                <tr>
                    <td>Prescott Bartlett</td>
                    <td>Technical Author</td>
                    <td>London</td>
                    <td>27</td>
                    <td>2011/05/07</td>
                    <td>$145,000</td>
                </tr>
                <tr>
                    <td>Gavin Cortez</td>
                    <td>Team Leader</td>
                    <td>San Francisco</td>
                    <td>22</td>
                    <td>2008/10/26</td>
                    <td>$235,500</td>
                </tr>
                <tr>
                    <td>Martena Mccray</td>
                    <td>Post-Sales support</td>
                    <td>Edinburgh</td>
                    <td>46</td>
                    <td>2011/03/09</td>
                    <td>$324,050</td>
                </tr>
                <tr>
                    <td>Unity Butler</td>
                    <td>Marketing Designer</td>
                    <td>San Francisco</td>
                    <td>47</td>
                    <td>2009/12/09</td>
                    <td>$85,675</td>
                </tr>
                <tr>
                    <td>Howard Hatfield</td>
                    <td>Office Manager</td>
                    <td>San Francisco</td>
                    <td>51</td>
                    <td>2008/12/16</td>
                    <td>$164,500</td>
                </tr>
                <tr>
                    <td>Hope Fuentes</td>
                    <td>Secretary</td>
                    <td>San Francisco</td>
                    <td>41</td>
                    <td>2010/02/12</td>
                    <td>$109,850</td>
                </tr>
                <tr>
                    <td>Vivian Harrell</td>
                    <td>Financial Controller</td>
                    <td>San Francisco</td>
                    <td>62</td>
                    <td>2009/02/14</td>
                    <td>$452,500</td>
                </tr>
                <tr>
                    <td>Timothy Mooney</td>
                    <td>Office Manager</td>
                    <td>London</td>
                    <td>37</td>
                    <td>2008/12/11</td>
                    <td>$136,200</td>
                </tr>
                <tr>
                    <td>Jackson Bradshaw</td>
                    <td>Director</td>
                    <td>New York</td>
                    <td>65</td>
                    <td>2008/09/26</td>
                    <td>$645,750</td>
                </tr>
                <tr>
                    <td>Olivia Liang</td>
                    <td>Support Engineer</td>
                    <td>Singapore</td>
                    <td>64</td>
                    <td>2011/02/03</td>
                    <td>$234,500</td>
                </tr>
                <tr>
                    <td>Bruno Nash</td>
                    <td>Software Engineer</td>
                    <td>London</td>
                    <td>38</td>
                    <td>2011/05/03</td>
                    <td>$163,500</td>
                </tr>
                <tr>
                    <td>Sakura Yamamoto</td>
                    <td>Support Engineer</td>
                    <td>Tokyo</td>
                    <td>37</td>
                    <td>2009/08/19</td>
                    <td>$139,575</td>
                </tr>
                <tr>
                    <td>Thor Walton</td>
                    <td>Developer</td>
                    <td>New York</td>
                    <td>61</td>
                    <td>2013/08/11</td>
                    <td>$98,540</td>
                </tr>
                <tr>
                    <td>Finn Camacho</td>
                    <td>Support Engineer</td>
                    <td>San Francisco</td>
                    <td>47</td>
                    <td>2009/07/07</td>
                    <td>$87,500</td>
                </tr>
                <tr>
                    <td>Serge Baldwin</td>
                    <td>Data Coordinator</td>
                    <td>Singapore</td>
                    <td>64</td>
                    <td>2012/04/09</td>
                    <td>$138,575</td>
                </tr>
                <tr>
                    <td>Zenaida Frank</td>
                    <td>Software Engineer</td>
                    <td>New York</td>
                    <td>63</td>
                    <td>2010/01/04</td>
                    <td>$125,250</td>
                </tr>
                <tr>
                    <td>Zorita Serrano</td>
                    <td>Software Engineer</td>
                    <td>San Francisco</td>
                    <td>56</td>
                    <td>2012/06/01</td>
                    <td>$115,000</td>
                </tr>
                <tr>
                    <td>Jennifer Acosta</td>
                    <td>Junior Javascript Developer</td>
                    <td>Edinburgh</td>
                    <td>43</td>
                    <td>2013/02/01</td>
                    <td>$75,650</td>
                </tr>
                <tr>
                    <td>Cara Stevens</td>
                    <td>Sales Assistant</td>
                    <td>New York</td>
                    <td>46</td>
                    <td>2011/12/06</td>
                    <td>$145,600</td>
                </tr>
                <tr>
                    <td>Hermione Butler</td>
                    <td>Regional Director</td>
                    <td>London</td>
                    <td>47</td>
                    <td>2011/03/21</td>
                    <td>$356,250</td>
                </tr>
                <tr>
                    <td>Lael Greer</td>
                    <td>Systems Administrator</td>
                    <td>London</td>
                    <td>21</td>
                    <td>2009/02/27</td>
                    <td>$103,500</td>
                </tr>
                <tr>
                    <td>Jonas Alexander</td>
                    <td>Developer</td>
                    <td>San Francisco</td>
                    <td>30</td>
                    <td>2010/07/14</td>
                    <td>$86,500</td>
                </tr>
                <tr>
                    <td>Shad Decker</td>
                    <td>Regional Director</td>
                    <td>Edinburgh</td>
                    <td>51</td>
                    <td>2008/11/13</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Michael Bruce</td>
                    <td>Javascript Developer</td>
                    <td>Singapore</td>
                    <td>29</td>
                    <td>2011/06/27</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Donna Snider</td>
                    <td>Customer Support</td>
                    <td>New York</td>
                    <td>27</td>
                    <td>2011/01/25</td>
                    <td>$112,000</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                </tr>
            </tfoot>
        </table>
  </div>





</div>
</%block>

<%block name="scriptDown">
<script>
$(document).ready(function() {
    $('#example').DataTable();
} );



var total_page = "";
var cur_page = "";
var start_page = 1;

$(document).ready(function () {
    search(1);

    $("#search_btn").click(function () {
        search(1);
    });

    $("#search_str").keyup(function (e) {
        if (e.keyCode == 13)
            search(1);
    });

    $("#delBtn").click(function () {
        alert("del");
    });

    $("#confSave").click(function () {
        alert("save");
    });

    /*
    $("#addBtn").click(function () {
        alert("add");
    });
    */
});

function search(page_no) {

    var hidden_csrftoken = $('.hidden_csrftoken').text();

    console.log("page_no = " + page_no);

    if (page_no > 1 && $("#curr_page").val() == page_no) {
        console.log("----------------> if 1");
        return;
    }

    if (page_no){
        console.log("----------------> if 2");
        $("#curr_page").val(page_no);
    }

    $.post('/commList',
        {
            page_size : 10,
            curr_page : $("#curr_page").val(),
            search_str : $("#search_str").val(),
            csrfmiddlewaretoken: hidden_csrftoken
        },
    function (context) {

        var data = context.curr_data;
        var all_pages = context.totalPage;

        var curr_page = Number($("#curr_page").val());
        $("#all_pages").val(all_pages);

        var html = "";
        //for table
        for (var i = 0; i < data.length; i++) {

          html += '<tr>';
          html += '<td><input type="checkbox"></td>';
          html += '<td>'+ data[i]['name'] +'</td>';
          html += '<td>'+ data[i]['uri'] +'</td>';
          html += '<td></td>';
          html += '<td>'+ data[i]['callId'] +'</td>';
          html += '<td></td>';
          html += '<td><button class="btn btn-fw accent">VIEW</button></td>';
          html += '</tr>';

          $('#tbody').html(html);
        }

        var paging = "";
        var page_size = 5;

        var minNum = Math.floor((curr_page - 1) / page_size) * page_size + 1;
        var maxNum = minNum + page_size - 1;

        if (maxNum > all_pages)
            maxNum = all_pages;

        console.log(minNum + ":" + maxNum);

        paging += '<ul class="pagination" style="display: inline-flex;">';
        paging += '<li class="page-item">';
        paging += '<a class="page-link" id="first" href="#" aria-label="Previous">';
        paging += '<span aria-hidden="true">«</span>';
        paging += '<span class="sr-only">Previous</span>';
        paging += '</a>';
        paging += '</li>';
        paging += '<li class="page-item">';
        paging += '<a class="page-link" id="prev" href="#" aria-label="Previous">';
        paging += '<span aria-hidden="true"><</span>';
        paging += '<span class="sr-only">Previous</span>';
        paging += '</a>';
        paging += '</li>';
        for (var i = minNum; i <= maxNum; i++) {
            if (i == curr_page)
                paging += '<li class="page-item active"><a id="'+ i +'" class="page-link" href="#">'+ i +'</a></li>';
            else
                paging += '<li class="page-item"><a id="'+ i +'" class="page-link" href="#">'+ i +'</a></li>';
        }
        paging += '<li class="page-item">';
        paging += '<a class="page-link" id="next" href="#" aria-label="Next">';
        paging += '<span aria-hidden="true">></span>';
        paging += '<span class="sr-only">Next</span>';
        paging += '</a>';
        paging += '</li>';
        paging += '<li class="page-item">';
        paging += '<a class="page-link" id="last" href="#" aria-label="Next">';
        paging += '<span aria-hidden="true">»</span>';
        paging += '<span class="sr-only">Next</span>';
        paging += '</a>';
        paging += '</li>';
        paging += '</ul>';
        $('#paging').html(paging);

        fnPaging();
      });
}

function fnPaging() {
    $("#paging a").click(function () {
        var id = $(this).attr("id");
        var all_pages = $("#all_pages").val();
        var curr_page = $("#curr_page").val();
        var curr_page = $("#curr_page").val();
        var prev_page = Number($("#curr_page").val()) - 1 > 0 ? Number($("#curr_page").val()) - 1 : 1;
        var next_page = Number($("#curr_page").val()) + 1 <= all_pages ? Number($("#curr_page").val()) + 1 : all_pages;
        var last_page = all_pages;

        if (id == curr_page)
            return;
        if (id == 'first' && curr_page == '1')
            return;
        if (id == 'prev' && curr_page == prev_page)
            return;
        if (id == 'next' && curr_page == next_page)
            return;
        if (id == 'last' && curr_page == last_page)
            return;

        if (id == 'first')
            search(1);
        else if (id == 'prev')
            search(prev_page);
        else if (id == 'next')
            search(next_page);
        else if (id == 'last')
            search(last_page);
        else
            search(id);

        console.debug('id: ' + id);
        console.debug('curr_page: ' + curr_page);
        console.debug('prev_page: ' + prev_page);
        console.debug('next_page: ' + next_page);
        console.debug('last_page: ' + last_page);

    });
}

$('.btn-example').click(function(){
    var $href = $(this).attr('href');
    layer_popup($href);
});

function layer_popup(el){

    var $el = $(el);        //레이어의 id를 $el 변수에 저장
    var isDim = $el.prev().hasClass('dimBg');   //dimmed 레이어를 감지하기 위한 boolean 변수

    isDim ? $('.dim-layer').fadeIn() : $el.fadeIn();

    var $elWidth = ~~($el.outerWidth()),
        $elHeight = ~~($el.outerHeight()),
        docWidth = $(document).width(),
        docHeight = $(document).height();

    // 화면의 중앙에 레이어를 띄운다.
    if ($elHeight < docHeight || $elWidth < docWidth) {
        $el.css({
            marginTop: -$elHeight /2,
            marginLeft: -$elWidth/2
        })
    } else {
        $el.css({top: 0, left: 0});
    }

    $el.find('a.btn-layerClose').click(function(){
        isDim ? $('.dim-layer').fadeOut() : $el.fadeOut(); // 닫기 버튼을 클릭하면 레이어가 닫힌다.
        return false;
    });

    $('.layer .dimBg').click(function(){
        $('.dim-layer').fadeOut();
        return false;
    });

}




$('.btn-example').click(function(){
    var $href = $(this).attr('href');
    layer_popup2($href);
});

function layer_popup2(el){

    var $el = $(el);        //레이어의 id를 $el 변수에 저장
    var isDim = $el.prev().hasClass('dimBg2');   //dimmed 레이어를 감지하기 위한 boolean 변수

    isDim ? $('.dim-layer2').fadeIn() : $el.fadeIn();

    var $elWidth = ~~($el.outerWidth()),
        $elHeight = ~~($el.outerHeight()),
        docWidth = $(document).width(),
        docHeight = $(document).height();

    // 화면의 중앙에 레이어를 띄운다.
    if ($elHeight < docHeight || $elWidth < docWidth) {
        $el.css({
            marginTop: -$elHeight /2,
            marginLeft: -$elWidth/2
        })
    } else {
        $el.css({top: 0, left: 0});
    }

    $el.find('a.btn-layerClose').click(function(){
        isDim ? $('.dim-layer2').fadeOut() : $el.fadeOut(); // 닫기 버튼을 클릭하면 레이어가 닫힌다.
        return false;
    });

    $('.layer .dimBg2').click(function(){
        $('.dim-layer2').fadeOut();
        return false;
    });

}




// // 팝업 열때 부모창 스크롤 막기
// $('html, body').css({'overflow': 'hidden', 'height': '100%'});
// $('#element').on('scroll touchmove mousewheel', function(event) {     
//      event.preventDefault();     event.stopPropagation();     return false; });

// // 팝업 해제시 스크롤 가능하게
// $('html, body').css({'overflow': 'auto', 'height': '100%'}); 
// $('#element').off('scroll touchmove mousewheel');

</script>
</%block>
